{
  "filter": {
    "or": [
      {
        "and": [
          {
            "type": "schema",
            "operation": "create",
            "scope": "object"
          },
          {
            "not": {
              "schema": [
                "_analytics",
                "_realtime",
                "_supavisor",
                "auth",
                "cron",
                "extensions",
                "graphql",
                "graphql_public",
                "information_schema",
                "net",
                "pgbouncer",
                "pgmq",
                "pgmq_public",
                "pgsodium",
                "pgsodium_masks",
                "pgtle",
                "realtime",
                "storage",
                "supabase_functions",
                "supabase_migrations",
                "vault"
              ]
            }
          }
        ]
      },
      {
        "type": "extension",
        "operation": "create",
        "scope": "object"
      },
      {
        "not": {
          "or": [
            {
              "schema": [
                "_analytics",
                "_realtime",
                "_supavisor",
                "auth",
                "cron",
                "extensions",
                "graphql",
                "graphql_public",
                "information_schema",
                "net",
                "pgbouncer",
                "pgmq",
                "pgmq_public",
                "pgsodium",
                "pgsodium_masks",
                "pgtle",
                "realtime",
                "storage",
                "supabase_functions",
                "supabase_migrations",
                "vault"
              ]
            },
            {
              "owner": [
                "anon",
                "authenticated",
                "authenticator",
                "dashboard_user",
                "pgbouncer",
                "pgsodium_keyholder",
                "pgsodium_keyiduser",
                "pgsodium_keymaker",
                "pgtle_admin",
                "service_role",
                "supabase_admin",
                "supabase_auth_admin",
                "supabase_etl_admin",
                "supabase_functions_admin",
                "supabase_read_only_user",
                "supabase_realtime_admin",
                "supabase_replication_admin",
                "supabase_storage_admin"
              ]
            },
            {
              "and": [
                {
                  "type": "role",
                  "scope": "membership"
                },
                {
                  "member": [
                    "anon",
                    "authenticated",
                    "authenticator",
                    "dashboard_user",
                    "pgbouncer",
                    "pgsodium_keyholder",
                    "pgsodium_keyiduser",
                    "pgsodium_keymaker",
                    "pgtle_admin",
                    "service_role",
                    "supabase_admin",
                    "supabase_auth_admin",
                    "supabase_etl_admin",
                    "supabase_functions_admin",
                    "supabase_read_only_user",
                    "supabase_realtime_admin",
                    "supabase_replication_admin",
                    "supabase_storage_admin"
                  ]
                }
              ]
            }
          ]
        }
      }
    ]
  },
  "serialize": [
    {
      "when": {
        "type": "schema",
        "operation": "create",
        "scope": "object",
        "owner": [
          "anon",
          "authenticated",
          "authenticator",
          "dashboard_user",
          "pgbouncer",
          "pgsodium_keyholder",
          "pgsodium_keyiduser",
          "pgsodium_keymaker",
          "pgtle_admin",
          "service_role",
          "supabase_admin",
          "supabase_auth_admin",
          "supabase_etl_admin",
          "supabase_functions_admin",
          "supabase_read_only_user",
          "supabase_realtime_admin",
          "supabase_replication_admin",
          "supabase_storage_admin"
        ]
      },
      "options": {
        "skipAuthorization": true
      }
    }
  ]
}
